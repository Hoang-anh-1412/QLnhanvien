# Employee Roster Screen Specification Document
**Version:** v0.1  
**Last Updated:** 2025-10-25  
**Author:** Chinh  
**Reviewer:** [PM/Leader Name]  
**System:** HR Management System  

---

## 1. Overview
Screen for displaying and managing employee basic information.  
Provides search, display, and printing functionality for employee information.

- **Screen Endpoint:** `/employee/roster`
- **Background Color:** Purple (#8B5CF6), white main display area

## Wireframe
![Employee Roster Screen](Employee_Roster_UI.png)

---

## 2. API Endpoints
| API Name | Endpoint | Purpose |
|----------|-----------|-----------|
| Employee Master | `/api/v1/employees` | Get employee list |
| Department | `/api/v1/departments` | Get department list |
| Qualification | `/api/v1/qualifications` | Get qualification list |
| Annual Leave | `/api/v1/annual-leaves` | Get annual leave information |

---

## 3. Initial Display
1. Disable buttons: "Sub-screen Print", "Sub-screen Print (with Address)", "Label Print"  
2. Set default search conditions:
   - Supervising Department: Unselected  
   - Department Name: Unselected  
   - Birth Month: Unselected  
   - Age Range: Unselected  
   - Wedding Anniversary Month: Unselected  
   - Retired Employee Display: Do not display  
3. Address display options:
   - Current Address: Checked  
   - Family Home: Unchecked  
4. Employee roster area: Empty

---

## 4. Search Filters
### 4.1. Supervising Department
- **API:** `GET /api/v1/departments/divisions`  
- **Purpose:** Get supervising department list  
- **Response:** `Array<Division>`

```typescript
interface Division {
  divisionId: number;
  divisionName: string;
}
```

### 4.2. Department Name
- **API:** `GET /api/v1/departments/by-division/{divisionId}`

```typescript
interface Department {
  departmentId: number;
  departmentName: string;
  divisionId: number;
}
```

### 4.3. Birth Month / Wedding Anniversary Month Filter
- Provide options from month 1–12  
- Display employees with corresponding month selected

### 4.4. Age Range Filter
- Allow enable/disable via checkbox  
- Display only employees within selected age range

### 4.5. Retired Employee Display
```typescript
type RetirementStatus = 'active' | 'retired' | 'all';
```
- `active`: Do not display retired employees  
- `all`: Display all  
- `retired`: Display only retired employees

---

## 5. Search Execution
**API:** `GET /api/v1/employees`

```typescript
interface EmployeeSearchParams {
  divisionName?: string;
  departmentName?: string;
  isRetired?: boolean;
  search?: string;
  page?: number;
  size?: number;
  sort?: string;
  birthMonth?: number;
  ageFrom?: number;
  ageTo?: number;
  ageFilterEnabled?: boolean;
  weddingAnniversaryMonth?: number;
  retirementStatus?: 'active' | 'all' | 'retired';
}
```

- Display employee list in table format  
- Support pagination, scrolling, sorting and multi-selection

---

## 6. Business Functions
1. **Work Uniform Order:** Navigate to order screen, pass `employeeCode`  
2. **Qualification Allowance List:** Navigate to corresponding screen  
3. **Welding License:** Navigate to welding license list  
4. **Department / Department Name Registration:** Navigate to registration page  
5. **Annual Leave Management:** Call `/api/v1/employees/{employeeCode}/annual-leave`  
6. **Print List:** Export PDF, confirm with dialog before printing  
7. **Print Labels:** Require ≥1 employee selection, show warning if none selected  

---

## 7. User Operation Flow
1. Open screen → initialize default filters  
2. Select Supervising Department → update Department Name  
3. Set other search conditions → press "Search"  
4. System displays employee list  
5. User selects employees to:
   - Print list / print labels  
   - View annual leave information  
   - Navigate to related screens

---

## 8. Error Handling
| Error Code | Cause | Display |
|------------|-------|---------|
| 400 | Invalid data | "Invalid input data" |
| 404 | Data not found | "Data not found" |
| 500 | System error | "System error. Please retry" |

---

## 9. Responsive Design & Accessibility
- Auto-scale according to screen width  
- Support keyboard navigation, screen reader  
- Ensure color-blind users can distinguish colors  

---

## 10. Performance Optimization & Cache
- Cache supervising department list (rarely changes)  
- Cache employees for 5 minutes  
- Support lazy loading and efficient pagination  

---

## 11. Environment & Technical Requirements
| Item | Value |
|------|-------|
| Framework | React + TypeScript |
| CSS | TailwindCSS |
| Supported Browsers | Chrome 120+, Edge 120+ |
| Language | English (UTF-8) |

---

## 12. Testing & Verification
| Item | Condition | Expected Result |
|------|-----------|-----------------|
| Search by birth month | Select May | Display correct employees born in May |
| Age filter | 25–35 | Exclude outside range |
| Print labels without selection | No employee selected | Warning displayed |
| Department cache | Reopen screen within 5 minutes | Department data loaded from cache |

---

*This document is used for development and maintenance of the HR Management System (HR Management System)*
