# 4. Acquired Qualifications List

# Wireframe
![Design](https://cacoo.com/diagrams/U7E6XRzg0nfwjYh1-204B3.png)
[Preview](https://cacoo.com/diagrams/U7E6XRzg0nfwjYh1/204B3)

## Overview
This screen displays and manages the list of acquired qualifications by employees. It provides search, filtering, and printing functions for qualification information.

## Endpoint
`/qualification/list`

## API Endpoints
- **Employee Master API**: `/api/v1/employees`
- **Department API**: `/api/v1/departments`
- **Qualification API**: `/api/v1/qualifications`
- **Annual Leave API**: `/api/v1/annual-leave`

## Screen Background Color
Enable button switching between "Light Mode" and "Dark Mode"

## Initial Display
### Screen Display
1. Disable the following buttons  
   "Sub-screen Print", "Sub-screen Print (with Address)", "Label Print"
2. Initialize search conditions
   - Supervising Department: Unselected
   - Department Name: Unselected
   - Birth Month: Unselected
   - Age Range: Unselected
   - Wedding Anniversary Month: Unselected
   - Retiree Display: Do not display retirees
3. Address display options
   - Current Address: Checked
   - Family Home: Unchecked
4. Display acquired qualifications list area as empty

## 1. Supervising Department Dropdown
- **API Call**: `GET /api/v1/departments/divisions`
- Display data retrieved from supervising department master
- When selected, update department name dropdown
- **Response**: List of supervising departments

## 2. Department Name Dropdown
- **API Call**: `GET /api/v1/departments/by-division/{divisionId}`
- Display department names linked to selected supervising department
- When supervising department is unselected, display all departments
- **Response**: List of departments under selected supervising department

## 3. Birth Month Filter
- Provide options from January to December
- When selected, display only employees born in that month

## 4. Age Range Filter
- Specify age range (e.g., 25-35 years old)
- Toggle enable/disable with checkbox
- Exclude employees outside the age range

## 5. Wedding Anniversary Month Filter
- Provide options from January to December
- When selected, display only employees with wedding anniversary in that month

## 6. Retiree Display Options
- Do not display retirees (default selection)
- Also display retirees
- Display only retirees

## 7. Clear Button
- Reset all search conditions to initial state
- Return list display to show all records

## 8. Search Execution
- **API Call**: `GET /api/v1/employees`
- **Query Parameters**: 
  - `divisionName`: Supervising department name
  - `departmentName`: Department name
  - `isRetired`: Retirement status
  - `search`: Search by name or employee code
- Retrieve employee list based on set search conditions
- Display qualification information for retrieved employees

## 9. Acquired Qualifications List Display
### Display Items
- Employee Code
- Full Name
- Name in Katakana
- Supervising Department
- Department Name
- Date of Birth
- Age
- Acquired Qualifications List (qualification name, grade, type, acquisition date, amount, etc.)

### Display Format
- Display in table format
- Group qualification information by employee
- Scrollable list display

## 10. Address Display Options
### Current Address
- When checked: Display current address
- When unchecked: Hide current address

### Family Home
- When checked: Display family home address
- When unchecked: Hide family home address

## 11. Work Uniform Order
- Navigate to work uniform order screen for selected employee
- Pass employee code

## 12. Qualification Allowance List
- Navigate to qualification allowance master list screen

## 13. Welding License
- Navigate to welding license list screen

## 14. Supervising Department Registration
- Navigate to supervising department registration screen

## 15. Department Name Registration
- Navigate to department name registration screen

## 16. Annual Leave Management
- Navigate to annual leave management screen

## 17. Sub-screen Print
- Print currently displayed list
- Display print confirmation modal

## 18. Sub-screen Print (with Address)
- Print list including address information
- Display print confirmation modal

## 19. Label Print
- Print labels for selected employees
- Employee selection required

## 20. Employee Roster Registration
- Navigate to employee roster registration screen

## 21. Extracted Items Display
- Display number of items extracted with current search conditions
- Example: "Extracted Items: 25"

## 22. Selected Items Display
- Display number of currently selected employees
- Example: "Selected Items: 3"

## 23. Employee Selection
- Select employees from list
- Support multiple selection
- Visual display of selection state

## 24. Qualification Details Display
- **API Call**: `GET /api/v1/employees/{employeeCode}/qualifications`
- Display detailed qualification information for employee
- Qualification name, grade, type, acquisition date, amount, etc.
- Detailed information linked to qualification ID
- **Response**: List of qualifications for selected employee

## 25. Print Function
### Print Confirmation Modal
- Display print start confirmation
- Provide print setting options

### Print Output
- Output in PDF format
- Optimize print layout
- Adjust page breaks

## 26. Data Retrieval Process
### Employee List Retrieval
- **API**: `GET /api/v1/employees`
- Retrieve employee data based on search conditions
- Support pagination with `page` and `size` parameters
- Sorting function with `sort` parameter

### Qualification Information Retrieval
- **API**: `GET /api/v1/employees/{employeeCode}/qualifications`
- Retrieve qualification information for selected employees
- Link with qualification allowance master
- Display in acquisition date order

### Annual Leave Information Retrieval
- **API**: `GET /api/v1/employees/{employeeCode}/annual-leave`
- Retrieve annual leave details for employee
- Support year filtering with `year` parameter

## 27. Error Handling
### Data Retrieval Error
- Display "Failed to retrieve data" message
- Provide retry option

### Print Error
- Display "Print failed" message
- Prompt to check print settings

## 28. Responsive Design
- Display adjustment according to screen size
- Ensure operability on mobile devices
- Optimize tablet display

## 29. Accessibility
- Support keyboard navigation
- Support screen readers
- Consideration for color vision deficiency

## 30. Performance Optimization
- Efficient display of large data
- Implement lazy loading
- Utilize caching function

## 31. Detailed API Integration

### 31.1. Initial Data Loading Flow
1. **Load supervising departments list**
   ```javascript
   GET /api/v1/departments/divisions
   ```
2. **Load employees with filters**
   ```javascript
   GET /api/v1/employees?page=1&size=20&isRetired=false
   ```
3. **Load qualification information for each employee**
   ```javascript
   GET /api/v1/employees/{employeeCode}/qualifications
   ```

### 31.2. Search and Filter Flow
1. **When supervising department changes**
   ```javascript
   GET /api/v1/departments/by-division/{divisionId}
   ```
2. **When performing search**
   ```javascript
   GET /api/v1/employees?divisionName={name}&departmentName={name}&search={keyword}
   ```

### 31.3. Print Flow
1. **Get data for printing**
   ```javascript
   GET /api/v1/employees/{employeeCode}/qualifications
   GET /api/v1/employees/{employeeCode}/annual-leave
   ```

### 31.4. API Error Handling
- **400 Bad Request**: Display validation error message
- **404 Not Found**: Display "Data not found"
- **500 Internal Server Error**: Display "System error, please try again"

### 31.5. Caching Strategy
- Cache supervising departments list (rarely changes)
- Cache departments by supervising department
- Cache employee information for 5 minutes
- Cache qualification information for 10 minutes

---

*This document is used for development and maintenance of the employee management system*
