# 3.資格手当一覧

## ワイヤーフレーム
```
┌─────────────────────────────────────────────────────────┐
│ 💰 資格手当一覧                    [🌙] [☀️]              │
├─────────────────────────────────────────────────────────┤
│ [🔍 検索条件] [▼]                                      │
│ ┌─────────────────────────────────────────────────────┐ │
│ │ 名称: [____] 等級: [____] 種類: [____] 備考: [____] │ │
│ │ [🔍検索] [🔄リセット]                              │ │
│ └─────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│ [➕新規作成] [💰金額順]                                │
├─────────────────────────────────────────────────────────┤
│ No │ 名称      │ 等級 │ 種類 │ 金額    │ 備考   │ 操作  │
│────┼───────────┼──────┼──────┼─────────┼────────┼───────│
│ 1  │ 電気工事士 │ 1級  │ 国家 │ ¥15,000 │ 電気   │ [👁️] │
│ 2  │ 溶接技能者 │ 2級  │ 民間 │ ¥8,000  │ 溶接   │ [👁️] │
│ 3  │ 建築士     │ 1級  │ 国家 │ ¥20,000 │ 建築   │ [👁️] │
├─────────────────────────────────────────────────────────┤
│ ページ: [◀️] 1/5 [▶️] 件数: 50件/全250件              │
└─────────────────────────────────────────────────────────┘
```

## 概要
資格手当（Qualification Allowance）の一覧表示・管理画面。資格手当の検索、新規作成、編集、削除、CSV出力機能を提供する。複数の検索条件による絞り込みが可能。

## エンドポイント
`/qualification-allowances`

## 画面背景色
「ライトモード」及び「ダークモード」をボタン切替できるようにする

## 検索条件のデフォルト設定
- 検索条件は初期状態で全て空欄とする

## 1. 検索条件
検索条件パネルは初期状態で折りたたまれている。検索ボタン押下時に展開する。

### 検索項目
| 項目名 | 型 | 必須 | 備考 |
|:--|:--|:--|:--|
| 名称 | String | | 資格手当名称のあいまい検索（Like）を可能とする |
| 等級 | String | | 等級のあいまい検索（Like）を可能とする |
| 種類 | String | | 種類のあいまい検索（Like）を可能とする |
| 備考 | String | | 備考のあいまい検索（Like）を可能とする |

### 検索ボタン
- **検索ボタン**: 検索条件に基づいて資格手当一覧を取得
- **リセットボタン**: 検索条件をクリアして全件表示

## 2. 新規作成ボタン
[3.資格手当入力](./3.資格手当入力.md)に遷移（新規作成モード）


## 4. 金額順ソート
金額による昇順・降順ソート機能

### ソート処理
- デフォルト: 金額降順（高い順）
- ソートボタン押下時: 昇順・降順を切り替え
- ソート状態を視覚的に表示

## 5. 一覧表示
[3.資格手当API](./API/3.資格手当.md)の[getQualificationAllowances](./API/3.資格手当.md#getqualificationallowancesパラメータ)クエリを用いて検索結果を表示

### リクエストパラメータ
```json
getQualificationAllowances(
   request: {
      name: "...",
      grade: "...",
      type: "...",
      remarks: "...",
      page: 1,
      size: 50
   }
)
```
- name: 検索条件の名称（あいまい検索）
- grade: 検索条件の等級（あいまい検索）
- type: 検索条件の種類（あいまい検索）
- remarks: 検索条件の備考（あいまい検索）
- page: ページ番号（1から開始）
- size: ページサイズ（固定値: 50）

### 一覧表示項目
| 項目名 | データソース | 備考 |
|:--|:--|:--|
| No | 連番 | 1から開始、ページ跨ぎで連続 |
| 名称 | name | クリックで詳細表示可能 |
| 等級 | grade | - |
| 種類 | type | - |
| 金額 | amount | 通貨形式（¥）で表示 |
| 備考 | remarks | - |
| 操作 | - | 表示・編集・削除ボタン |

### 金額表示形式
- 通貨記号: ¥
- 桁区切り: カンマ区切り（例: ¥15,000）
- 小数点: 整数のみ表示

### 操作ボタン
| ボタン | 動作 | 備考 |
|:--|:--|:--|
| 表示 | [3.資格手当入力](./3.資格手当入力.md)（参照モード） | 編集不可 |
| 編集 | [3.資格手当入力](./3.資格手当入力.md)（編集モード） | 編集可能 |
| 削除 | 削除確認モーダル表示 | 確認後に削除実行 |

## 6. 削除処理
### 削除確認モーダル
削除ボタン押下時に確認モーダルを表示

#### モーダル内容
- タイトル: "削除確認"
- メッセージ: "選択された資格手当を削除しますか？"
- ボタン: [キャンセル] [削除実行]

#### 削除実行処理
1. [3.資格手当API](./API/3.資格手当.md)の[deleteQualificationAllowance](./API/3.資格手当.md#deletequalificationallowanceinput)ミューテーションを呼び出し
2. 削除成功時: 一覧を再読み込み、成功メッセージ表示
3. 削除失敗時: エラーメッセージ表示

### リクエストパラメータ
```json
deleteQualificationAllowance(
   input: {
      id: 123
   }
)
```
- id: 削除対象の資格手当ID

## 7. ページング
### ページング情報表示
- 現在ページ番号 / 総ページ数
- 表示件数 / 総件数
- 前へ・次へボタン

### ページング処理
- ページサイズ: 50件固定
- ページ番号: 1から開始
- ページ変更時: 検索条件を維持してAPI再呼び出し

## 8. エラーハンドリング
### API エラー
- 通信エラー: "データの取得に失敗しました。"
- 認証エラー: "ログインが必要です。"
- 権限エラー: "この操作を実行する権限がありません。"

### バリデーションエラー
- 検索条件エラー: 該当項目にエラーメッセージ表示

## 9. 完了メッセージ
### 成功メッセージ
- 削除完了: "資格手当を削除しました。"

### エラーメッセージ
- 削除失敗: "削除に失敗しました。"

## 10. 統計情報表示
### 合計金額表示
検索結果の合計金額を表示（オプション機能）

### 統計情報
- 検索結果件数
- 合計金額
- 平均金額
- 最高金額・最低金額
