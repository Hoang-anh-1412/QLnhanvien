# 5.資格

## RESTful API エンドポイント

### ベースURL
```
/api/v1/qualifications
```

### エンドポイント一覧

| HTTP Method | エンドポイント | 概要 | 認可 |
| :-- | :-- | :-- | :-- |
| GET | `/api/v1/qualifications` | 資格情報の一覧を取得 | TBD |
| GET | `/api/v1/qualifications/{id}` | 資格情報を1件取得 | TBD |
| POST | `/api/v1/qualifications` | 資格情報を登録 | TBD |
| PUT | `/api/v1/qualifications/{id}` | 資格情報を更新 | TBD |
| DELETE | `/api/v1/qualifications/{id}` | 資格情報を削除 | TBD |

---

## エンドポイント詳細

### 1. 一覧取得
**GET** `/api/v1/qualifications`

#### クエリパラメータ
| パラメータ名 | 型 | 必須 | 備考 |
| :-- | :-- | :-- |:-- |
| employee_code | String | | 社員コード (T_資格.社員コード) - 完全一致検索 |
| name | String | | 名称 (T_資格.名称) - あいまい検索（Like）を可能とする |
| grade | String | | 等級 (T_資格.等級) - あいまい検索（Like）を可能とする |
| type | String | | 種類 (T_資格.種類) - あいまい検索（Like）を可能とする |
| check_status | Boolean | | チェック (T_資格.チェック) - 完全一致検索 |
| certificate_number | String | | 番号 (T_資格.番号) - あいまい検索（Like）を可能とする |
| acquisition_date_s | String | | 取得日開始 (T_資格.取得日 >= acquisition_date_s) - YYYYMMDD形式 |
| acquisition_date_e | String | | 取得日終了 (T_資格.取得日 <= acquisition_date_e) - YYYYMMDD形式 |
| qualification_id | Int | | 資格ID (T_資格.資格ID) - 完全一致検索 |
| page | Int | ○ | ページ番号 |
| size | Int | ○ | ページサイズ |

#### レスポンス
```json
{
  "content": [
    {
      "id": 1,
      "employee_code": "EMP001",
      "name": "電気工事士",
      "grade": "1級",
      "type": "国家",
      "amount": 15000,
      "check_status": true,
      "certificate_number": "12345678",
      "acquisition_date": "20240101",
      "qualification_id": 1
    }
  ],
  "totalElements": 100,
  "totalPages": 10,
  "currentPage": 1
}
```

### 2. 単体取得
**GET** `/api/v1/qualifications/{id}`

#### パスパラメータ
| パラメータ名 | 型 | 必須 | 備考 |
| :-- | :-- | :-- |:-- |
| id | Int | ○ | ID (T_資格.ID) |

#### レスポンス
```json
{
  "id": 1,
  "employee_code": "EMP001",
  "name": "電気工事士",
  "grade": "1級",
  "type": "国家",
  "amount": 15000,
  "check_status": true,
  "certificate_number": "12345678",
  "acquisition_date": "20240101",
  "qualification_id": 1
}
```

### 3. 登録
**POST** `/api/v1/qualifications`

#### リクエストボディ
```json
{
  "employee_code": "EMP001",
  "name": "電気工事士",
  "grade": "1級",
  "type": "国家",
  "amount": 15000,
  "check_status": true,
  "certificate_number": "12345678",
  "acquisition_date": "20240101",
  "qualification_id": 1
}
```

#### レスポンス
```json
{
  "id": 1,
  "employee_code": "EMP001",
  "name": "電気工事士",
  "grade": "1級",
  "type": "国家",
  "amount": 15000,
  "check_status": true,
  "certificate_number": "12345678",
  "acquisition_date": "20240101",
  "qualification_id": 1
}
```

### 4. 更新
**PUT** `/api/v1/qualifications/{id}`

#### パスパラメータ
| パラメータ名 | 型 | 必須 | 備考 |
| :-- | :-- | :-- |:-- |
| id | Int | ○ | ID (T_資格.ID) |

#### リクエストボディ
```json
{
  "employee_code": "EMP001",
  "name": "電気工事士",
  "grade": "1級",
  "type": "国家",
  "amount": 15000,
  "check_status": true,
  "certificate_number": "12345678",
  "acquisition_date": "20240101",
  "qualification_id": 1
}
```

#### レスポンス
```json
{
  "id": 1,
  "employee_code": "EMP001",
  "name": "電気工事士",
  "grade": "1級",
  "type": "国家",
  "amount": 15000,
  "check_status": true,
  "certificate_number": "12345678",
  "acquisition_date": "20240101",
  "qualification_id": 1
}
```

### 5. 削除
**DELETE** `/api/v1/qualifications/{id}`

#### パスパラメータ
| パラメータ名 | 型 | 必須 | 備考 |
| :-- | :-- | :-- |:-- |
| id | Int | ○ | ID (T_資格.ID) |

#### レスポンス
```json
{
  "success": true
}
```

---

## データモデル

### Qualification
| フィールド名 | 型 | 補足 |
| :-- | :-- | :-- |
| id | Int | ID (T_資格.ID) - Primary Key |
| employee_code | String | 社員コード (T_資格.社員コード) - Foreign Key |
| name | String | 名称 (T_資格.名称) |
| grade | String | 等級 (T_資格.等級) |
| type | String | 種類 (T_資格.種類) |
| amount | Decimal | 金額 (T_資格.金額) |
| check_status | Boolean | チェック (T_資格.チェック) |
| certificate_number | String | 番号 (T_資格.番号) |
| acquisition_date | String | 取得日 (T_資格.取得日) |
| qualification_id | Int | 資格ID (T_資格.資格ID) - Foreign Key |

### QualificationPage
| フィールド名 | 型 | 補足 |
| :-- | :-- | :-- |
| content | [Qualification] | 資格リスト |
| totalElements | int | 総件数 |
| totalPages | int | 総ページ数 |
| currentPage | int | 現在ページ番号 |

---

## エラーレスポンス

### 400 Bad Request
```json
{
  "error": "Bad Request",
  "message": "Invalid request parameters",
  "timestamp": "2024-01-01T00:00:00Z"
}
```

### 404 Not Found
```json
{
  "error": "Not Found",
  "message": "Qualification not found",
  "timestamp": "2024-01-01T00:00:00Z"
}
```

### 500 Internal Server Error
```json
{
  "error": "Internal Server Error",
  "message": "An unexpected error occurred",
  "timestamp": "2024-01-01T00:00:00Z"
}
```
