# 2.部署名

## スキーマ定義

### クエリ

| クエリ名 | 概要 | 引数 | 返り値 | 認可 |
| :-- | :-- | :-- |:-- | :-- |
| getDepartmentById | 部署情報を1件取得する | [getDepartmentByIdパラメータ](./2.部署名.md#getdepartmentbyidパラメータ) | [Department](./2.部署名.md#department) | TBD |
| getDepartments | 部署情報の一覧を取得 | [getDepartmentsパラメータ](./2.部署名.md#getdepartmentsパラメータ) | [DepartmentPage](./2.部署名.md#departmentpage) | TBD |

#### getDepartmentByIdパラメータ
| 引数名 | 型 | 必須 | 備考 |
| :-- | :-- | :-- |:-- |
| id | String | ○ | 部署ID (T_部署名.部署ID) |

#### getDepartmentsパラメータ
| 引数名 | 型 | 必須 | 備考 | 
| :-- | :-- | :-- |:-- |
| id | String | | 部署ID (T_部署名.部署ID) - 完全一致検索 |
| division_id | Int | | 部門ID (T_部署名.部門ID) - 完全一致検索 |
| department_name | String | | 部署名 (T_部署名.部署名) - あいまい検索（Like）を可能とする |
| page | Int | ○ | ページ番号 |
| size | Int | ○ | ページサイズ |

---

### ミューテーション

| ミューテーション名 | 概要 | 引数 | 返り値 | 認可 |
| :-- | :-- | :-- |:-- | :-- |
| createDepartment | 部署情報を登録 | [CreateDepartmentInput](./2.部署名.md#createdepartmentinput) | [Department](./2.部署名.md#department) | TBD |
| updateDepartment | 部署情報を更新 | [UpdateDepartmentInput](./2.部署名.md#updatedepartmentinput) | [Department](./2.部署名.md#department) | TBD |
| deleteDepartment | 部署情報を削除 | [DeleteDepartmentInput](./2.部署名.md#deletedepartmentinput) | Boolean | TBD |

#### CreateDepartmentInput
| 引数名 | 型 | 必須 | 備考 |
| :-- | :-- | :-- |:-- |
| division_id | Int | ○ | 部門ID (T_部署名.部門ID) - Foreign Key to T_統括部門 |
| department_name | String | ○ | 部署名 (T_部署名.部署名) |

**注意**: 部署ID (T_部署名.部署ID) はAPI側で特別な方法で自動生成されます。詳細は後で定義予定です。

#### UpdateDepartmentInput
| 引数名 | 型 | 必須 | 備考 |
| :-- | :-- | :-- |:-- |
| id | String | ○ | 部署ID (T_部署名.部署ID) |
| division_id | Int | ○ | 部門ID (T_部署名.部門ID) - Foreign Key to T_統括部門 |
| department_name | String | ○ | 部署名 (T_部署名.部署名) |

#### DeleteDepartmentInput
| 引数名 | 型 | 必須 | 備考 |
| :-- | :-- | :-- |:-- |
| id | String | ○ | 部署ID (T_部署名.部署ID) |

---

### エンティティ

#### Department
| フィールド名 | 型 | 補足 |
| :-- | :-- | :-- |
| id | String | 部署ID (T_部署名.部署ID) - Primary Key |
| division_id |  Division | 所属統括部門 (T_統括部門.部門ID = T_部署名.部門ID) |
| department_name | String | 部署名 (T_部署名.部署名) |

#### DepartmentPage
| フィールド名 | 型 | 補足 |
| :-- | :-- | :-- |
| content | [Department] | 部署リスト |
| totalElements | int | 総件数 |
| totalPages | int | 総ページ数 |
| currentPage | int | 現在ページ番号 |
