# 2.部署名

## RESTful API エンドポイント

### ベースURL
```
/api/v1/departments
```

### エンドポイント一覧

| HTTP Method | エンドポイント | 概要 | 認可 |
| :-- | :-- | :-- | :-- |
| GET | `/api/v1/departments` | 部署情報の一覧を取得 | TBD |
| GET | `/api/v1/departments/{id}` | 部署情報を1件取得 | TBD |
| POST | `/api/v1/departments` | 部署情報を登録 | TBD |
| PUT | `/api/v1/departments/{id}` | 部署情報を更新 | TBD |
| DELETE | `/api/v1/departments/{id}` | 部署情報を削除 | TBD |

---

## エンドポイント詳細

### 1. 一覧取得
**GET** `/api/v1/departments`

#### クエリパラメータ
| パラメータ名 | 型 | 必須 | 備考 |
| :-- | :-- | :-- |:-- |
| id | String | | 部署ID (T_部署名.部署ID) - 完全一致検索 |
| division_id | Int | | 部門ID (T_部署名.部門ID) - 完全一致検索 |
| department_name | String | | 部署名 (T_部署名.部署名) - あいまい検索（Like）を可能とする |
| page | Int | ○ | ページ番号 |
| size | Int | ○ | ページサイズ |

#### レスポンス
```json
{
  "content": [
    {
      "id": "DEPT001",
      "division_id": 1,
      "department_name": "営業1課"
    }
  ],
  "totalElements": 100,
  "totalPages": 10,
  "currentPage": 1
}
```

### 2. 単体取得
**GET** `/api/v1/departments/{id}`

#### パスパラメータ
| パラメータ名 | 型 | 必須 | 備考 |
| :-- | :-- | :-- |:-- |
| id | String | ○ | 部署ID (T_部署名.部署ID) |

#### レスポンス
```json
{
  "id": "DEPT001",
  "division_id": 1,
  "department_name": "営業1課"
}
```

### 3. 登録
**POST** `/api/v1/departments`

#### リクエストボディ
```json
{
  "division_id": 1,
  "department_name": "営業1課"
}
```

#### レスポンス
```json
{
  "id": "DEPT001",
  "division_id": 1,
  "department_name": "営業1課"
}
```

### 4. 更新
**PUT** `/api/v1/departments/{id}`

#### パスパラメータ
| パラメータ名 | 型 | 必須 | 備考 |
| :-- | :-- | :-- |:-- |
| id | String | ○ | 部署ID (T_部署名.部署ID) |

#### リクエストボディ
```json
{
  "division_id": 1,
  "department_name": "営業1課"
}
```

#### レスポンス
```json
{
  "id": "DEPT001",
  "division_id": 1,
  "department_name": "営業1課"
}
```

### 5. 削除
**DELETE** `/api/v1/departments/{id}`

#### パスパラメータ
| パラメータ名 | 型 | 必須 | 備考 |
| :-- | :-- | :-- |:-- |
| id | String | ○ | 部署ID (T_部署名.部署ID) |

#### レスポンス
```json
{
  "success": true
}
```

---

## データモデル

### Department
| フィールド名 | 型 | 補足 |
| :-- | :-- | :-- |
| id | String | 部署ID (T_部署名.部署ID) - Primary Key |
| division_id | Int | 部門ID (T_部署名.部門ID) - Foreign Key to T_統括部門 |
| department_name | String | 部署名 (T_部署名.部署名) |

### DepartmentPage
| フィールド名 | 型 | 補足 |
| :-- | :-- | :-- |
| content | [Department] | 部署リスト |
| totalElements | int | 総件数 |
| totalPages | int | 総ページ数 |
| currentPage | int | 現在ページ番号 |

---

## エラーレスポンス

### 400 Bad Request
```json
{
  "error": "Bad Request",
  "message": "Invalid request parameters",
  "timestamp": "2024-01-01T00:00:00Z"
}
```

### 404 Not Found
```json
{
  "error": "Not Found",
  "message": "Department not found",
  "timestamp": "2024-01-01T00:00:00Z"
}
```

### 500 Internal Server Error
```json
{
  "error": "Internal Server Error",
  "message": "An unexpected error occurred",
  "timestamp": "2024-01-01T00:00:00Z"
}
```
