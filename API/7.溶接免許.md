# 7.溶接免許

## RESTful API エンドポイント

### ベースURL
```
/api/v1/welding-licenses
```

### エンドポイント一覧

| HTTP Method | エンドポイント | 概要 | 認可 |
| :-- | :-- | :-- | :-- |
| GET | `/api/v1/welding-licenses` | 溶接免許情報の一覧を取得 | TBD |
| GET | `/api/v1/welding-licenses/{id}` | 溶接免許情報を1件取得 | TBD |
| POST | `/api/v1/welding-licenses` | 溶接免許情報を登録 | TBD |
| PUT | `/api/v1/welding-licenses/{id}` | 溶接免許情報を更新 | TBD |
| DELETE | `/api/v1/welding-licenses/{id}` | 溶接免許情報を削除 | TBD |

---

## エンドポイント詳細

### 1. 一覧取得
**GET** `/api/v1/welding-licenses`

#### クエリパラメータ
| パラメータ名 | 型 | 必須 | 備考 |
| :-- | :-- | :-- |:-- |
| expiration_date_s | String | | 有効年月日開始 (T_溶接免許.有効年月日 >= expiration_date_s) - YYYYMMDD形式 |
| expiration_date_e | String | | 有効年月日終了 (T_溶接免許.有効年月日 <= expiration_date_e) - YYYYMMDD形式 |
| renewal_date_s | String | | 継続年月日開始 (T_溶接免許.継続年月日 >= renewal_date_s) - YYYYMMDD形式 |
| renewal_date_e | String | | 継続年月日終了 (T_溶接免許.継続年月日 <= renewal_date_e) - YYYYMMDD形式 |
| registration_date_s | String | | 登録年月日開始 (T_溶接免許.登録年月日 >= registration_date_s) - YYYYMMDD形式 |
| registration_date_e | String | | 登録年月日終了 (T_溶接免許.登録年月日 <= registration_date_e) - YYYYMMDD形式 |
| certificate_number | String | | 証明書番号 (T_溶接免許.証明書番号) - あいまい検索（Like）を可能とする |
| employee_name | String | | 氏名 (T_溶接免許.氏名) - あいまい検索（Like）を可能とする |
| qualification_obtained | String | | 合格資格 (T_溶接免許.合格資格) - あいまい検索（Like）を可能とする |
| grade_classification | String | | 級区分 (T_溶接免許.級区分) - あいまい検索（Like）を可能とする |
| certificate_type | String | | 証明書 (T_溶接免許.証明書) - あいまい検索（Like）を可能とする |
| not_required | Boolean | | 不要 (T_溶接免許.不要) - 完全一致検索 |
| check_status | Boolean | | チェック (T_溶接免許.チェック) - 完全一致検索 |
| page | Int | ○ | ページ番号 |
| size | Int | ○ | ページサイズ |

#### レスポンス
```json
{
  "content": [
    {
      "id": 1,
      "expiration_date": "20251231",
      "renewal_date": "20240101",
      "registration_date": "20240101",
      "certificate_number": "WL12345678",
      "employee_name": "田中太郎",
      "qualification_obtained": "溶接技能者",
      "grade_classification": "1級",
      "certificate_type": "技能証明書",
      "not_required": false,
      "check_status": true
    }
  ],
  "totalElements": 100,
  "totalPages": 10,
  "currentPage": 1
}
```

### 2. 単体取得
**GET** `/api/v1/welding-licenses/{id}`

#### パスパラメータ
| パラメータ名 | 型 | 必須 | 備考 |
| :-- | :-- | :-- |:-- |
| id | Int | ○ | ID (T_溶接免許.ID) |

#### レスポンス
```json
{
  "id": 1,
  "expiration_date": "20251231",
  "renewal_date": "20240101",
  "registration_date": "20240101",
  "certificate_number": "WL12345678",
  "employee_name": "田中太郎",
  "qualification_obtained": "溶接技能者",
  "grade_classification": "1級",
  "certificate_type": "技能証明書",
  "not_required": false,
  "check_status": true
}
```

### 3. 登録
**POST** `/api/v1/welding-licenses`

#### リクエストボディ
```json
{
  "expiration_date": "20251231",
  "renewal_date": "20240101",
  "registration_date": "20240101",
  "certificate_number": "WL12345678",
  "employee_name": "田中太郎",
  "qualification_obtained": "溶接技能者",
  "grade_classification": "1級",
  "certificate_type": "技能証明書",
  "not_required": false,
  "check_status": true
}
```

#### レスポンス
```json
{
  "id": 1,
  "expiration_date": "20251231",
  "renewal_date": "20240101",
  "registration_date": "20240101",
  "certificate_number": "WL12345678",
  "employee_name": "田中太郎",
  "qualification_obtained": "溶接技能者",
  "grade_classification": "1級",
  "certificate_type": "技能証明書",
  "not_required": false,
  "check_status": true
}
```

### 4. 更新
**PUT** `/api/v1/welding-licenses/{id}`

#### パスパラメータ
| パラメータ名 | 型 | 必須 | 備考 |
| :-- | :-- | :-- |:-- |
| id | Int | ○ | ID (T_溶接免許.ID) |

#### リクエストボディ
```json
{
  "expiration_date": "20251231",
  "renewal_date": "20240101",
  "registration_date": "20240101",
  "certificate_number": "WL12345678",
  "employee_name": "田中太郎",
  "qualification_obtained": "溶接技能者",
  "grade_classification": "1級",
  "certificate_type": "技能証明書",
  "not_required": false,
  "check_status": true
}
```

#### レスポンス
```json
{
  "id": 1,
  "expiration_date": "20251231",
  "renewal_date": "20240101",
  "registration_date": "20240101",
  "certificate_number": "WL12345678",
  "employee_name": "田中太郎",
  "qualification_obtained": "溶接技能者",
  "grade_classification": "1級",
  "certificate_type": "技能証明書",
  "not_required": false,
  "check_status": true
}
```

### 5. 削除
**DELETE** `/api/v1/welding-licenses/{id}`

#### パスパラメータ
| パラメータ名 | 型 | 必須 | 備考 |
| :-- | :-- | :-- |:-- |
| id | Int | ○ | ID (T_溶接免許.ID) |

#### レスポンス
```json
{
  "success": true
}
```

---

## データモデル

### WeldingLicense
| フィールド名 | 型 | 補足 |
| :-- | :-- | :-- |
| id | Int | ID (T_溶接免許.ID) - Primary Key |
| expiration_date | String | 有効年月日 (T_溶接免許.有効年月日) |
| renewal_date | String | 継続年月日 (T_溶接免許.継続年月日) |
| registration_date | String | 登録年月日 (T_溶接免許.登録年月日) |
| certificate_number | String | 証明書番号 (T_溶接免許.証明書番号) |
| employee_name | String | 氏名 (T_溶接免許.氏名) |
| qualification_obtained | String | 合格資格 (T_溶接免許.合格資格) |
| grade_classification | String | 級区分 (T_溶接免許.級区分) |
| certificate_type | String | 証明書 (T_溶接免許.証明書) |
| not_required | Boolean | 不要 (T_溶接免許.不要) |
| check_status | Boolean | チェック (T_溶接免許.チェック) |

### WeldingLicensePage
| フィールド名 | 型 | 補足 |
| :-- | :-- | :-- |
| content | [WeldingLicense] | 溶接免許リスト |
| totalElements | int | 総件数 |
| totalPages | int | 総ページ数 |
| currentPage | int | 現在ページ番号 |

---

## エラーレスポンス

### 400 Bad Request
```json
{
  "error": "Bad Request",
  "message": "Invalid request parameters",
  "timestamp": "2024-01-01T00:00:00Z"
}
```

### 404 Not Found
```json
{
  "error": "Not Found",
  "message": "Welding license not found",
  "timestamp": "2024-01-01T00:00:00Z"
}
```

### 500 Internal Server Error
```json
{
  "error": "Internal Server Error",
  "message": "An unexpected error occurred",
  "timestamp": "2024-01-01T00:00:00Z"
}
```
